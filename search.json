[{"title":"博客搭建（hexo+github）","url":"/2024/05/09/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%EF%BC%88hexo-github%EF%BC%89/","content":"<h2 id=\"博客搭建基本流程（hexo-github）\"><a href=\"#博客搭建基本流程（hexo-github）\" class=\"headerlink\" title=\"博客搭建基本流程（hexo + github）\"></a>博客搭建基本流程（hexo + github）</h2><h3 id=\"hexo环境搭建\"><a href=\"#hexo环境搭建\" class=\"headerlink\" title=\"hexo环境搭建\"></a>hexo环境搭建</h3><p>hexo环境搭建需要下载node.js、git，下载之后在cmd中输入下面命令检查node、npm、git是否安装成功</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">&gt; node -v</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; npm -v</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; git -v</span><br></pre></td></tr></table></figure>\n\n<p>确认node.js、git安装无误后，使用git bash进行hexo的安装</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure>\n\n<p>安装完成之后，创建一个博客文件夹，在git bash中输入如下命令进行初始化和本地预览</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo init                           <span class=\"comment\"># 初始化</span></span><br><span class=\"line\">$ hexo install                        <span class=\"comment\"># 安装组件</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ hexo generate                       <span class=\"comment\"># 生成页面 （可以简写为 hexo g ）</span></span><br><span class=\"line\">$ hexo server                         <span class=\"comment\"># 预览 （默认端口为4000，若被占用可以通过 -p 更换端口）</span></span><br></pre></td></tr></table></figure>\n\n<p>此时访问”localhost:4000”即可预览博客</p>\n<p>博客文件夹目录结构：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">- _config.yml                          # 站点配置信息  </span><br><span class=\"line\">- package.json                         # 应用程序信息  </span><br><span class=\"line\">- scaffolds                            # 模板文件  </span><br><span class=\"line\">- source                               # 存放用户源文件  </span><br><span class=\"line\">- themes                               # 存放主题文件  </span><br><span class=\"line\">- public                               # 静态网站文件</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"部署到github\"><a href=\"#部署到github\" class=\"headerlink\" title=\"部署到github\"></a>部署到github</h3><p>在部署之前要确保主机通过ssh密钥域github连接，可通过如下命令进行检查</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">&gt; ssh -T git@github.com</span><br></pre></td></tr></table></figure>\n\n<p>连接成功后在github中新建博客仓库，仓库名称为”username.github.io”，username为github用户名<br>创建完成之后对<code>_config.yml</code>文件中的deploy部分进行如下修改，将博客部署在main分支</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">deploy:</span><br><span class=\"line\">  type: git</span><br><span class=\"line\">  repository: git@github.com:Allure-Luv/Allure-Luv.github.io.git</span><br><span class=\"line\">  branch: main</span><br></pre></td></tr></table></figure>\n\n<p>修改完成后，运行如下命令进行部署</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo cl</span><br><span class=\"line\">$ hexo g</span><br><span class=\"line\">$ hexo d</span><br></pre></td></tr></table></figure>\n\n<p>部署之后可以访问<code>username.github.io</code>来查看部署情况</p>\n<h2 id=\"跨设备移植博客\"><a href=\"#跨设备移植博客\" class=\"headerlink\" title=\"跨设备移植博客\"></a>跨设备移植博客</h2><p>根据上述步骤，博客部署在main分支，利用git分支机制，将源码推送至另一分支，即可实现源码的保存<br>在更换设备后，仅需要搭建hexo环境，从github中拉取源码即可，具体步骤如下：<br>a. 在github中创建新的分支，这里为<code>gh-pages</code>，并将其设置为默认分支，为了每次方便上传源码<br>b. 在本地拉取新创建的新分支<br>c. 将文件夹中除<code>.git</code>文件之外所有文件均删除<br>d. 将博客源码除<code>.deploy_git</code>文件复制到拉取的文件夹中（注意要有.gitignore文件）<br>e. 将本地仓库推送至远端仓库<br>注：因为git不支持嵌套，因此在github中拉取的主题中的.git文件需要删除</p>\n","categories":["博客搭建"],"tags":["hexo","github"]}]